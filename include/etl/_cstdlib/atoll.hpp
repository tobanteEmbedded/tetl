// SPDX-License-Identifier: BSL-1.0

#ifndef TETL_CSTDLIB_ATOLL_HPP
#define TETL_CSTDLIB_ATOLL_HPP

#include <etl/_cstring/strlen.hpp>
#include <etl/_strings/conversion.hpp>

namespace etl {

/// \brief Interprets an integer value in a byte string pointed to by str.
/// Discards any whitespace characters until the first non-whitespace character
/// is found, then takes as many characters as possible to form a valid integer
/// number representation and converts them to an integer value.
[[nodiscard]] constexpr auto atoll(char const* str) noexcept -> long long
{
    auto const result = detail::string_to_integer<long long, detail::skip_whitespace::yes>(str, strlen(str));
    return result.value;
}

} // namespace etl

#endif // TETL_CSTDLIB_ATOLL_HPP
